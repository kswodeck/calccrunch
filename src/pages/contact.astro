---
import BaseLayout from "../layouts/BaseLayout.astro";
import Breadcrumbs from "../components/Breadcrumbs.astro";
import EmailCapture from "../components/EmailCapture.astro";

const breadcrumbItems = [
  { label: "Home", href: "/" },
  { label: "Contact Us", href: null },
];

const contactReasons = [
  {
    icon: "üöÄ",
    title: "Calculator Requests",
    description:
      "Have an idea for a new calculator? We love hearing suggestions from our users!",
  },
  {
    icon: "üêõ",
    title: "Bug Reports",
    description:
      "Found something that isn't working correctly? Let us know so we can fix it.",
  },
  {
    icon: "üí°",
    title: "Feature Suggestions",
    description:
      "Ideas to improve existing calculators? We're always looking to enhance our tools.",
  },
  {
    icon: "ü§ù",
    title: "Partnerships",
    description:
      "Interested in collaborating or integrating our calculators? Let's talk!",
  },
];

const faqs = [
  {
    question: "Can I request a custom calculator?",
    answer:
      "Absolutely! We love hearing calculator ideas from our users. Send us your request through the form and we'll consider it for future development.",
  },
  {
    question: "How quickly will I get a response?",
    answer:
      "We typically respond within 24-48 hours during business days. Complex requests may take a bit longer.",
  },
  {
    question: "Are your calculators free to use?",
    answer:
      "Yes! All calculators on CalcCrunch.com are completely free to use, with no registration required.",
  },
  {
    question: "Can I embed calculators on my website?",
    answer:
      "Please contact us to discuss embedding options and partnership opportunities. We're happy to work with you!",
  },
];
---

<BaseLayout
  title="Contact Us - CalcCrunch.com"
  description="Get in touch with CalcCrunch.com for questions, feedback, or calculator suggestions. We're here to help you crunch numbers, not time!"
  keywords="contact calccrunch, calculator support, calculator requests, feedback"
>
  <!-- EmailJS Library -->
  <script
    type="text/javascript"
    src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
  ></script>

  <div class="contact-page">
    <div class="container">
      <Breadcrumbs items={breadcrumbItems} />
    </div>

    <!-- Hero Section -->
    <section class="contact-hero bg-gradient">
      <div class="container">
        <div class="hero-content">
          <h1 class="text-white">Get in Touch</h1>
          <p class="hero-tagline text-white">
            Questions, Feedback, or Calculator Requests? We're Here to Help!
          </p>
          <p class="hero-description text-white">
            Whether you need help with a calculator, have a suggestion for
            improvement, or want to request a new tool, we'd love to hear from
            you. Your feedback helps us build better calculators for everyone.
          </p>
          <div class="hero-badges">
            <span class="badge">‚è±Ô∏è 24-48 Hour Response</span>
            <span class="badge">üí¨ Real Human Support</span>
            <span class="badge">üõ†Ô∏è Calculator Requests Welcome</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Form Section -->
    <section class="contact-form-section">
      <div class="container">
        <div class="contact-content">
          <!-- Contact Form -->
          <div class="contact-form-wrapper">
            <h2>Send Us a Message</h2>

            <!-- Form Message Area -->
            <div id="formMessage" class="form-message hidden"></div>

            <form id="contactForm" class="contact-form">
              <!-- Name Field -->
              <div class="form-group">
                <label for="name" class="form-label">
                  Your Name <span class="required">*</span>
                </label>
                <input
                  type="text"
                  id="name"
                  name="name"
                  class="form-input"
                  placeholder="John Doe"
                  required
                  minlength="2"
                  maxlength="100"
                />
              </div>

              <!-- Email Field -->
              <div class="form-group">
                <label for="email" class="form-label">
                  Email Address <span class="required">*</span>
                </label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  class="form-input"
                  placeholder="john@example.com"
                  required
                />
              </div>

              <!-- Phone Field (Optional) -->
              <div class="form-group">
                <label for="phone" class="form-label">
                  Phone Number <span class="optional">(Optional)</span>
                </label>
                <input
                  type="tel"
                  id="phone"
                  name="phone"
                  class="form-input"
                  placeholder="(555) 123-4567"
                  maxlength="14"
                />
              </div>

              <!-- Subject Field -->
              <div class="form-group">
                <label for="subject" class="form-label">
                  Subject <span class="required">*</span>
                </label>
                <select
                  id="subject"
                  name="subject"
                  class="form-input form-select"
                  required
                >
                  <option value="">Select a topic...</option>
                  <option value="General Inquiry">General Inquiry</option>
                  <option value="Calculator Request">Calculator Request</option>
                  <option value="Bug Report">Bug Report</option>
                  <option value="Feature Suggestion">Feature Suggestion</option>
                  <option value="Partnership">Partnership Opportunity</option>
                  <option value="Feedback">Feedback</option>
                  <option value="Other">Other</option>
                </select>
              </div>

              <!-- Message Field -->
              <div class="form-group">
                <label for="message" class="form-label">
                  Message <span class="required">*</span>
                </label>
                <textarea
                  id="message"
                  name="message"
                  class="form-input form-textarea"
                  rows="6"
                  placeholder="Tell us how we can help you..."
                  required
                  minlength="20"
                  maxlength="1000"></textarea>
                <div id="charCounter" class="char-counter">
                  0 / 1000 characters
                </div>
              </div>

              <!-- Honeypot Field (Hidden - for spam protection) -->
              <div class="form-group honeypot">
                <label for="website">Website</label>
                <input
                  type="text"
                  id="website"
                  name="website"
                  tabindex="-1"
                  autocomplete="off"
                />
              </div>

              <!-- Submit Button -->
              <div class="form-actions">
                <button
                  type="submit"
                  id="submitButton"
                  class="btn btn-primary btn-large"
                >
                  Send Message ‚Üí
                </button>
              </div>
            </form>
          </div>

          <!-- Contact Information Sidebar -->
          <div class="contact-info-wrapper">
            <div class="info-section">
              <h3>Other Ways to Reach Us</h3>

              <div class="info-card">
                <div class="info-icon">üìß</div>
                <div class="info-content">
                  <h4>Email Us Directly</h4>
                  <p>For general inquiries and support</p>
                  <a href="mailto:info@calccrunch.com" class="info-link"
                    >info@calccrunch.com</a
                  >
                </div>
              </div>

              <div class="info-card">
                <div class="info-icon">‚è±Ô∏è</div>
                <div class="info-content">
                  <h4>Response Time</h4>
                  <p>
                    We typically respond within 24-48 hours during business
                    days.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Why Contact Us Section -->
    <section class="reasons-section bg-light">
      <div class="container">
        <div class="section-header text-center">
          <h2>How Can We Help You?</h2>
          <p>Common reasons people reach out to us</p>
        </div>

        <div class="reasons-grid">
          {
            contactReasons.map((reason) => (
              <div class="reason-card">
                <div class="reason-icon">{reason.icon}</div>
                <h3>{reason.title}</h3>
                <p>{reason.description}</p>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section">
      <div class="container">
        <div class="section-header text-center">
          <h2>Frequently Asked Questions</h2>
        </div>

        <div class="faq-grid">
          {
            faqs.map((faq) => (
              <div class="faq-item">
                <h3>{faq.question}</h3>
                <p>{faq.answer}</p>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <!-- Final CTA -->
    <section class="final-cta bg-gradient text-white">
      <div class="container text-center">
        <h2 class="text-white">Ready to Start Calculating?</h2>
        <p class="text-white">
          While you're here, why not explore our collection of free calculators?
        </p>
        <a href="/calculators" class="btn btn-secondary btn-lg">
          Browse All Calculators
        </a>
      </div>
    </section>

    <!-- Email Capture -->
    <!-- <EmailCapture /> -->
  </div>

  <!-- Load Contact Form JavaScript -->
  <script src="/scripts/contact-us.js" is:inline></script>
</BaseLayout>

<style>
  /* Contact Page Base */
  .contact-page {
    background: var(--color-white);
  }

  /* Hero Section */
  .contact-hero {
    padding: var(--space-3xl) 0;
    text-align: center;
  }

  .hero-content h1 {
    font-size: var(--text-5xl);
    font-weight: 800;
    margin-bottom: var(--space-md);
  }

  .hero-tagline {
    font-size: var(--text-2xl);
    font-weight: 600;
    margin-bottom: var(--space-lg);
    opacity: 0.95;
  }

  .hero-description {
    font-size: var(--text-xl);
    max-width: 800px;
    margin: 0 auto var(--space-xl);
    line-height: 1.7;
    opacity: 0.9;
  }

  .hero-badges {
    display: flex;
    justify-content: center;
    gap: var(--space-md);
    flex-wrap: wrap;
    margin-top: var(--space-xl);
  }

  .badge {
    background: rgba(255, 255, 255, 0.2);
    color: var(--color-white);
    padding: var(--space-sm) var(--space-lg);
    border-radius: 50px;
    font-size: var(--text-base);
    font-weight: 600;
    backdrop-filter: blur(10px);
  }

  /* Contact Form Section */
  .contact-form-section {
    padding: var(--space-3xl) 0;
    background: var(--color-gray-light);
  }

  .contact-content {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: var(--space-3xl);
    max-width: 1200px;
    margin: 0 auto;
  }

  /* Form Wrapper */
  .contact-form-wrapper {
    background: var(--color-white);
    padding: var(--space-2xl);
    border-radius: var(--border-radius-lg);
    box-shadow: var(--shadow-lg);
  }

  .contact-form-wrapper h2 {
    color: var(--color-primary-blue);
    font-size: var(--text-3xl);
    margin-bottom: var(--space-xl);
  }

  /* Form Message */
  .form-message {
    padding: var(--space-md) var(--space-lg);
    border-radius: var(--border-radius);
    margin-bottom: var(--space-lg);
    font-weight: 500;
    transition: all var(--transition-base);
  }

  .form-message.success {
    background: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
  }

  .form-message.error {
    background: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
  }

  .form-message.hidden {
    display: none;
  }

  /* Form Styles */
  .contact-form {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .form-label {
    font-weight: 600;
    color: var(--color-gray-dark);
    font-size: var(--text-base);
  }

  .required {
    color: var(--color-error);
  }

  .optional {
    color: var(--color-gray);
    font-size: var(--text-sm);
    font-weight: 400;
  }

  .form-input {
    padding: var(--space-md);
    border: 2px solid var(--color-gray);
    border-radius: var(--border-radius);
    font-size: var(--text-base);
    font-family: var(--font-body);
    transition: all var(--transition-fast);
    background: var(--color-white);
  }

  .form-input:focus {
    outline: none;
    border-color: var(--color-accent-orange);
    box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
  }

  .form-input.error {
    border-color: var(--color-error);
    background: rgba(239, 83, 80, 0.05);
  }

  .form-select {
    cursor: pointer;
  }

  .form-textarea {
    resize: vertical;
    min-height: 120px;
    max-height: 300px;
  }

  .char-counter {
    text-align: right;
    font-size: var(--text-sm);
    color: var(--color-gray-dark);
    margin-top: var(--space-xs);
  }

  .error-message {
    color: var(--color-error);
    font-size: var(--text-sm);
    margin-top: var(--space-xs);
    font-weight: 500;
  }

  /* Honeypot Field (Hidden) */
  .honeypot {
    position: absolute;
    left: -9999px;
    top: -9999px;
  }

  /* Form Actions */
  .form-actions {
    margin-top: var(--space-md);
  }

  .btn-large {
    padding: var(--space-md) var(--space-2xl);
    font-size: var(--text-lg);
    font-weight: 700;
    display: inline-flex;
    align-items: center;
    gap: var(--space-sm);
    transition: all var(--transition-base);
  }

  .btn-large:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-xl);
  }

  .btn-large.loading {
    opacity: 0.7;
    cursor: not-allowed;
  }

  /* Contact Info Sidebar */
  .contact-info-wrapper {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
  }

  .info-section h3 {
    color: var(--color-primary-blue);
    font-size: var(--text-2xl);
    margin-bottom: var(--space-lg);
  }

  .info-card {
    background: var(--color-white);
    padding: var(--space-lg);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-md);
    display: flex;
    gap: var(--space-md);
    align-items: flex-start;
    transition: transform var(--transition-base);
    margin-bottom: var(--space-md);
  }

  .info-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }

  .info-icon {
    font-size: var(--text-3xl);
    flex-shrink: 0;
  }

  .info-content h4 {
    color: var(--color-primary-blue);
    font-size: var(--text-lg);
    margin-bottom: var(--space-xs);
  }

  .info-content p {
    color: var(--color-gray-dark);
    margin-bottom: var(--space-sm);
    line-height: 1.6;
  }

  .info-link {
    color: var(--color-accent-orange);
    font-weight: 600;
    text-decoration: none;
    transition: color var(--transition-fast);
  }

  .info-link:hover {
    color: var(--color-accent-orange-dark);
    text-decoration: underline;
  }

  /* Reasons Section */
  .reasons-section {
    padding: var(--space-3xl) 0;
  }

  .reasons-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-xl);
    margin-top: var(--space-2xl);
  }

  .reason-card {
    background: var(--color-white);
    padding: var(--space-xl);
    border-radius: var(--border-radius-lg);
    text-align: center;
    box-shadow: var(--shadow-md);
    transition: transform var(--transition-base);
  }

  .reason-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
  }

  .reason-icon {
    font-size: var(--text-5xl);
    margin-bottom: var(--space-md);
  }

  .reason-card h3 {
    color: var(--color-primary-blue);
    font-size: var(--text-xl);
    margin-bottom: var(--space-sm);
  }

  .reason-card p {
    color: var(--color-gray-dark);
    line-height: 1.6;
    margin: 0;
  }

  /* FAQ Section */
  .faq-section {
    padding: var(--space-3xl) 0;
    background: var(--color-white);
  }

  .faq-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-2xl);
    margin-top: var(--space-2xl);
  }

  .faq-item {
    background: var(--color-gray-light);
    padding: var(--space-xl);
    border-radius: var(--border-radius-lg);
    border: 2px solid var(--color-gray);
  }

  .faq-item h3 {
    color: var(--color-primary-blue);
    font-size: var(--text-lg);
    margin-bottom: var(--space-md);
  }

  .faq-item p {
    color: var(--color-gray-dark);
    line-height: 1.7;
    margin: 0;
  }

  /* Section Headers */
  .section-header {
    margin-bottom: var(--space-2xl);
  }

  .section-header h2 {
    color: var(--color-primary-blue);
    font-size: var(--text-4xl);
    margin-bottom: var(--space-md);
  }

  .section-header p {
    font-size: var(--text-xl);
    color: var(--color-gray-dark);
    opacity: 0.8;
  }

  /* Final CTA */
  .final-cta {
    padding: var(--space-3xl) 0;
    margin-top: var(--space-3xl);
  }

  .final-cta h2 {
    font-size: var(--text-4xl);
    margin-bottom: var(--space-lg);
  }

  .final-cta p {
    font-size: var(--text-xl);
    margin-bottom: var(--space-2xl);
    opacity: 0.95;
  }

  .btn-lg {
    padding: var(--space-lg) var(--space-2xl);
    font-size: var(--text-xl);
  }

  /* Responsive Design */
  @media (max-width: 1024px) {
    .contact-content {
      grid-template-columns: 1fr;
      gap: var(--space-2xl);
    }

    .contact-info-wrapper {
      order: 2;
    }

    .contact-form-wrapper {
      order: 1;
    }

    .faq-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 768px) {
    .contact-hero h1 {
      font-size: var(--text-4xl);
    }

    .hero-tagline {
      font-size: var(--text-xl);
    }

    .hero-description {
      font-size: var(--text-lg);
    }

    .contact-form-wrapper {
      padding: var(--space-lg);
    }

    .info-card {
      padding: var(--space-md);
    }

    .section-header h2 {
      font-size: var(--text-3xl);
    }

    .hero-badges {
      flex-direction: column;
      align-items: center;
    }

    .reasons-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 480px) {
    .contact-hero h1 {
      font-size: var(--text-3xl);
    }

    .contact-form-section {
      padding: var(--space-2xl) 0;
    }

    .contact-form-wrapper {
      padding: var(--space-md);
    }

    .btn-large {
      width: 100%;
      justify-content: center;
    }

    .info-card {
      flex-direction: column;
      text-align: center;
    }

    .final-cta h2 {
      font-size: var(--text-3xl);
    }
  }

  /* Print Styles */
  @media print {
    .contact-hero {
      background: none;
      color: var(--color-black);
    }

    .contact-hero h1,
    .hero-tagline,
    .hero-description {
      color: var(--color-black);
    }

    .contact-form,
    .form-actions {
      display: none;
    }

    .contact-info-wrapper {
      display: block;
    }
  }
</style>
